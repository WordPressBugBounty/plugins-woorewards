(()=>{"use strict";var e,s={980:(e,s,t)=>{t(439)},439:(e,s,t)=>{const n=window.wp.i18n,l=window.wp.element,o=window.wc.wcSettings,r=window.wc.blocksComponents,a=window.wp.plugins,c=window.wc.blocksCheckout;var i=t(848);const d=({system:e})=>{const s=()=>null==e.values||e.values.used<=0?"":e.values.used,[t,o]=(0,l.useState)(s);(0,l.useEffect)((()=>{if(t.length)try{let e=t.replace(/\s/,"").match(/\d*/);o(null==e?"":e[0])}catch(e){o("")}}),[t]);const[a,d]=(0,l.useState)(!1);(0,l.useEffect)((()=>{a||o(s())}),[a]);const[u,w]=(0,l.useState)(!0),p=e=>{e.preventDefault(),w(!u)};let m="XX";return null!=e.values&&(m=e.values.amount_formated),(0,i.jsx)(i.Fragment,{children:u?(0,i.jsxs)("a",{role:"button",className:"lws-wr-blocks pointsoncart-component_unfold","aria-label":(0,n.__)("Use your points","woorewards-lite"),onClick:p,children:[(0,i.jsxs)("span",{className:"wr-label",children:[(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:e.labels.field}})," ",e.labels.show?(0,i.jsx)("b",{title:(0,n.__)("balance","woorewards-lite"),dangerouslySetInnerHTML:{__html:m}}):""]}),(0,i.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","aria-hidden":"true",className:"wr-unfold-icon",focusable:"false",children:(0,i.jsx)("path",{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})})]}):(0,i.jsxs)("div",{className:"lws-wr-blocks pointsoncart-component"+(a?" is_loading":""),children:[(0,i.jsxs)("label",{role:"button",className:"pointsoncart-component_fold","aria-label":(0,n.__)("Use your points","woorewards-lite"),onClick:p,children:[(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:e.labels.title}})," ",(0,i.jsx)("b",{dangerouslySetInnerHTML:{__html:m}})]}),(0,i.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","aria-hidden":"true",className:"wr-unfold-icon",focusable:"false",children:(0,i.jsx)("path",{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})})]}),void 0===e.values||e.values.max>0?(0,i.jsxs)("form",{className:"pointsoncart-component_form",id:"lws-wr-blocks_pointsoncart-component_form",children:[(0,i.jsx)(r.ValidatedTextInput,{id:"lws-wr-blocks_pointsoncart-component_input",errorId:"wr-pointsoncart-value",className:"pointsoncart-component_input",label:e.labels.input,value:t,onChange:e=>{o(e)},focusOnMount:!0,validateOnMount:!1,showError:!1}),(0,i.jsx)("button",{className:"wc-block-components-button wp-element-button",id:"lws-wr-blocks_pointsoncart-component_apply",type:"submit",disabled:a||void 0===e.values||t==e.values.used,onClick:s=>{s.preventDefault(),null!=e.values&&(d(!0),(0,c.extensionCartUpdate)({namespace:"lws_woorewards",data:{action:"use_points",system:e.values.name,value:t}}).then((()=>{d(!1)})))},children:a?(0,i.jsxs)("span",{className:"loading-dots",children:[(0,i.jsx)("span",{className:"dot1",children:"."})," ",(0,i.jsx)("span",{className:"dot2",children:"."})," ",(0,i.jsx)("span",{className:"dot3",children:"."})]}):e.labels.apply})]}):"",Object.entries(e.labels.details).map((([e,s])=>(0,i.jsx)("label",{className:"points-on-cart-details details-"+e,dangerouslySetInnerHTML:{__html:s}})))]})})},u=({cart:e,extensions:s,context:t})=>{try{const n=(0,o.getSetting)("lws-wr-blocks_data");return n.enable&&n["logged-user"]&&void 0!==n.systems&&Object.entries(n.systems).length?(0,i.jsx)(i.Fragment,{children:Object.entries(n.systems).map((([l,o])=>(0,i.jsx)(d,{cart:e,context:t,system:{enable:n.enable,logged:n["logged-user"],labels:o,values:null!=s.lws_woorewards&&(null!=s.lws_woorewards.systems[l]?s.lws_woorewards.systems[l]:void 0)}},l)))}):""}catch(e){return""}};(0,a.registerPlugin)("lws-wr-blocks",{render:function(){return(0,i.jsx)(c.ExperimentalDiscountsMeta,{children:(0,i.jsx)(u,{})},"lwspointsoncart")},scope:"woocommerce-checkout"})},20:(e,s,t)=>{var n=t(609),l=Symbol.for("react.element"),o=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function i(e,s,t){var n,o={},i=null,d=null;for(n in void 0!==t&&(i=""+t),void 0!==s.key&&(i=""+s.key),void 0!==s.ref&&(d=s.ref),s)r.call(s,n)&&!c.hasOwnProperty(n)&&(o[n]=s[n]);if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===o[n]&&(o[n]=s[n]);return{$$typeof:l,type:e,key:i,ref:d,props:o,_owner:a.current}}s.Fragment=o,s.jsx=i,s.jsxs=i},848:(e,s,t)=>{e.exports=t(20)},609:e=>{e.exports=window.React}},t={};function n(e){var l=t[e];if(void 0!==l)return l.exports;var o=t[e]={exports:{}};return s[e](o,o.exports,n),o.exports}n.m=s,e=[],n.O=(s,t,l,o)=>{if(!t){var r=1/0;for(d=0;d<e.length;d++){t=e[d][0],l=e[d][1],o=e[d][2];for(var a=!0,c=0;c<t.length;c++)(!1&o||r>=o)&&Object.keys(n.O).every((e=>n.O[e](t[c])))?t.splice(c--,1):(a=!1,o<r&&(r=o));if(a){e.splice(d--,1);var i=l();void 0!==i&&(s=i)}}return s}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[t,l,o]},n.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={57:0,59:0,350:0};n.O.j=s=>0===e[s];var s=(s,t)=>{var l,o,r=t[0],a=t[1],c=t[2],i=0;if(r.some((s=>0!==e[s]))){for(l in a)n.o(a,l)&&(n.m[l]=a[l]);if(c)var d=c(n)}for(s&&s(t);i<r.length;i++)o=r[i],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},t=self.webpackChunklws_wr_blocks=self.webpackChunklws_wr_blocks||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})();var l=n.O(void 0,[350],(()=>n(980)));l=n.O(l)})()