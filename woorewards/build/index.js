(()=>{"use strict";var e,s={980:(e,s,t)=>{t(439)},439:(e,s,t)=>{const o=window.wp.i18n,n=window.wp.element,l=window.wc.wcSettings,r=window.wc.blocksComponents,a=window.wp.plugins,i=window.wc.blocksCheckout;var c=t(848);const d=({system:e})=>{const s=()=>void 0===e.values||void 0===e.values.used||e.values.used<=0?"":e.values.used.toString(),[t,l]=(0,n.useState)(s);(0,n.useEffect)((()=>{if(void 0!==t&&t.length){let e=t;try{let s=t.replace(/\s/,"").match(/\d*/);e=null===s?"":s[0]}catch(s){e=""}e.toString()!==t.toString()&&l(e)}}),[t]);const[a,d]=(0,n.useState)(!1);(0,n.useEffect)((()=>{void 0!==t&&void 0!==a&&(a||l(s()))}),[a]);const[u,w]=(0,n.useState)(!0),p=e=>{e.preventDefault(),w(!u)};let m="XX";return void 0!==e.values&&(m=e.values.amount_formated),(0,c.jsx)(c.Fragment,{children:u?(0,c.jsxs)("a",{role:"button",className:"lws-wr-blocks pointsoncart-component_unfold","aria-label":(0,o.__)("Use your points","woorewards-lite"),onClick:p,children:[(0,c.jsxs)("span",{className:"wr-label",children:[(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:e.labels.field}})," ",e.labels.show?(0,c.jsx)("b",{title:(0,o.__)("balance","woorewards-lite"),dangerouslySetInnerHTML:{__html:m}}):""]}),(0,c.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","aria-hidden":"true",className:"wr-unfold-icon",focusable:"false",children:(0,c.jsx)("path",{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})})]}):(0,c.jsxs)("div",{className:"lws-wr-blocks pointsoncart-component"+(a?" is_loading":""),children:[(0,c.jsxs)("label",{role:"button",className:"pointsoncart-component_fold","aria-label":(0,o.__)("Use your points","woorewards-lite"),onClick:p,children:[(0,c.jsxs)("span",{children:[(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:e.labels.title}})," ",(0,c.jsx)("b",{dangerouslySetInnerHTML:{__html:m}})]}),(0,c.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24","aria-hidden":"true",className:"wr-unfold-icon",focusable:"false",children:(0,c.jsx)("path",{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})})]}),void 0===e.values||e.values.max>0?(0,c.jsxs)("form",{className:"pointsoncart-component_form",id:"lws-wr-blocks_pointsoncart-component_form",children:[(0,c.jsx)(r.ValidatedTextInput,{id:"lws-wr-blocks_pointsoncart-component_input",errorId:"wr-pointsoncart-value",className:"pointsoncart-component_input",label:e.labels.input,value:t,onChange:e=>{l(e)},focusOnMount:!0,validateOnMount:!1,showError:!1}),(0,c.jsx)("button",{className:"wc-block-components-button wp-element-button",id:"lws-wr-blocks_pointsoncart-component_apply",type:"submit",disabled:a||void 0===e.values||t.toString()===e.values.used.toString(),onClick:s=>{s.preventDefault(),void 0!==e.values&&(d(!0),(0,i.extensionCartUpdate)({namespace:"lws_woorewards",data:{action:"use_points",system:e.values.name,value:t}}).then((()=>{d(!1)})))},children:a?(0,c.jsxs)("span",{className:"loading-dots",children:[(0,c.jsx)("span",{className:"dot1",children:"."})," ",(0,c.jsx)("span",{className:"dot2",children:"."})," ",(0,c.jsx)("span",{className:"dot3",children:"."})]}):e.labels.apply})]}):"",Object.entries(e.labels.details).map((([e,s])=>(0,c.jsx)("label",{className:"points-on-cart-details details-"+e,dangerouslySetInnerHTML:{__html:s}},e)))]})})},u=({cart:e,extensions:s,context:t})=>{try{const o=(0,l.getSetting)("lws-wr-blocks_data");return o.enable&&o["logged-user"]&&void 0!==o.systems&&Object.entries(o.systems).length?(0,c.jsx)(c.Fragment,{children:Object.entries(o.systems).map((([n,l])=>(0,c.jsx)(d,{cart:e,context:t,system:{enable:o.enable,logged:o["logged-user"],labels:l,values:void 0!==s.lws_woorewards&&(void 0!==s.lws_woorewards.systems[n]?s.lws_woorewards.systems[n]:void 0)}},n)))}):""}catch(e){return""}};(0,a.registerPlugin)("lws-wr-blocks",{render:function(){return(0,c.jsx)(i.ExperimentalDiscountsMeta,{children:(0,c.jsx)(u,{})},"lwspointsoncart")},scope:"woocommerce-checkout"})},20:(e,s,t)=>{var o=t(609),n=Symbol.for("react.element"),l=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,s,t){var o,l={},c=null,d=null;for(o in void 0!==t&&(c=""+t),void 0!==s.key&&(c=""+s.key),void 0!==s.ref&&(d=s.ref),s)r.call(s,o)&&!i.hasOwnProperty(o)&&(l[o]=s[o]);if(e&&e.defaultProps)for(o in s=e.defaultProps)void 0===l[o]&&(l[o]=s[o]);return{$$typeof:n,type:e,key:c,ref:d,props:l,_owner:a.current}}s.Fragment=l,s.jsx=c,s.jsxs=c},848:(e,s,t)=>{e.exports=t(20)},609:e=>{e.exports=window.React}},t={};function o(e){var n=t[e];if(void 0!==n)return n.exports;var l=t[e]={exports:{}};return s[e](l,l.exports,o),l.exports}o.m=s,e=[],o.O=(s,t,n,l)=>{if(!t){var r=1/0;for(d=0;d<e.length;d++){for(var[t,n,l]=e[d],a=!0,i=0;i<t.length;i++)(!1&l||r>=l)&&Object.keys(o.O).every((e=>o.O[e](t[i])))?t.splice(i--,1):(a=!1,l<r&&(r=l));if(a){e.splice(d--,1);var c=n();void 0!==c&&(s=c)}}return s}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[t,n,l]},o.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={57:0,59:0,350:0};o.O.j=s=>0===e[s];var s=(s,t)=>{var n,l,[r,a,i]=t,c=0;if(r.some((s=>0!==e[s]))){for(n in a)o.o(a,n)&&(o.m[n]=a[n]);if(i)var d=i(o)}for(s&&s(t);c<r.length;c++)l=r[c],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(d)},t=globalThis.webpackChunklws_wr_blocks=globalThis.webpackChunklws_wr_blocks||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})();var n=o.O(void 0,[350],(()=>o(980)));n=o.O(n)})()